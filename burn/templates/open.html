{% extends "layout.html" %}
{% block body %}
<form ng-controller="OpenCtl">
  {% raw %}
  <div id="statusbox" ng-show="status" class="msg {{status}}">
    {{reason}}
  </div>
  {% endraw %}

  <div>
    <label for="message">Message</label>
    <input type="hidden" id="themessage" value="{{msg|e}}">
    <input type="hidden" id="expiry" value="{{expiry}}">

    <div ng-show="decrypted_succesfully">
      {% raw %}
      <textarea class="u-full-width" id="thebox" name="message" rows="6" readonly>{{decrypted}}</textarea>

      <p>Once you've read the message, press "burn" to delete it from the server. It will expire automatically {{expiry}}</p>

      {% endraw %}
      <button class="button-burn" ng-click="burn()">burn</button>
    </div>

    <div ng-hide="decrypted_succesfully" ng-hide="status">
      <input type="text" ng-model="password" placeholder="">
      <button ng-click="attempt_decrypt()">decrypt</button>
    </div>

  </div>
</form>


{% endblock %}
